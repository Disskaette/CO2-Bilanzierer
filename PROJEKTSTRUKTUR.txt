COâ‚‚-BILANZIERER - VOLLSTÃ„NDIGE PROJEKTSTRUKTUR
==================================================

ROOT-VERZEICHNIS
================
â”œâ”€â”€ app.py                          # Einstiegspunkt - Startet Anwendung
â”œâ”€â”€ requirements.txt                # Python-Dependencies (CustomTkinter, Matplotlib)
â”œâ”€â”€ .gitignore                      # Git-Ignore-Regeln
â”‚
â”œâ”€â”€ README.md                       # Hauptdokumentation mit Features
â”œâ”€â”€ ARCHITEKTUR.md                  # Technische ArchitekturÃ¼bersicht
â”œâ”€â”€ SCHNELLSTART.md                 # Installationsanleitung (5 Minuten)
â”‚
MODELS - DATENMODELLE
=====================
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py                 # Package-Definition
â”‚   â”œâ”€â”€ material.py                 # Material (CSV-Zeile/EPD)
â”‚   â”œâ”€â”€ variant.py                  # Variant + MaterialRow
â”‚   â””â”€â”€ project.py                  # Project (Hauptcontainer)
â”‚
CORE - KERNLOGIK
================
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ orchestrator.py             # AppOrchestrator (Zentrale Steuerung)
â”‚   â””â”€â”€ persistence.py              # PersistenceService (Speichern/Laden)
â”‚
SERVICES - BUSINESS-LOGIK
==========================
â”œâ”€â”€ services/
â”‚   â””â”€â”€ calculation_service.py      # CalculationService (COâ‚‚-Berechnungen)
â”‚
DATA - DATEN-LAYER
==================
â”œâ”€â”€ data/
â”‚   â””â”€â”€ material_repository.py      # MaterialRepository (CSV-Verwaltung)
â”‚
UI - BENUTZEROBERFLÃ„CHE
========================
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ welcome_window.py           # WelcomeWindow (Startbildschirm)
â”‚   â”œâ”€â”€ main_window.py              # MainWindow (Hauptfenster)
â”‚   â”œâ”€â”€ project_tree.py             # ProjectTreeView (Dateibaum links)
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ dashboard_view.py       # DashboardView (Vergleichsdiagramm, Tab 1)
â”‚   â”‚
â”‚   â”œâ”€â”€ variants/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ variant_view.py         # VariantView (Einzelvariante, Tabs 2-6)
â”‚   â”‚
â”‚   â””â”€â”€ dialogs/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ material_picker.py      # MaterialPickerDialog (Materialauswahl)
â”‚
UTILS - HILFSFUNKTIONEN
========================
â””â”€â”€ utils/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ demo_project.py             # create_demo_project() - Demo-Generator
    â””â”€â”€ logging_config.py           # setup_logging() - Logging-Konfiguration


LAUFZEITVERZEICHNIS (wird automatisch erstellt)
================================================
~/.abc_co2_bilanzierer/             # Benutzerverzeichnis
â”œâ”€â”€ config.json                     # Konfiguration + MATERIAL-FAVORITEN
â”‚                                   # - last_project_id
â”‚                                   # - global_csv_path
â”‚                                   # - favorites (IDs)
â”‚                                   # - favorite_names
â”‚                                   # - theme, window_size
â”œâ”€â”€ projects/
â”‚   â””â”€â”€ <project-id>.json          # Gespeicherte Projekte
â”œâ”€â”€ snapshots/
â”‚   â””â”€â”€ <project-id>/
â”‚       â””â”€â”€ autosave_*.json        # Autosave-Snapshots (max. 20)
â””â”€â”€ logs/
    â””â”€â”€ app.log                    # Anwendungs-Log


KOMPONENTEN-ÃœBERSICHT
=====================

MODELS (4 Dateien)
------------------
âœ“ Material          - ReprÃ¤sentiert CSV-Zeile/EPD mit GWP-Werten
âœ“ MaterialRow       - Material + Menge in Variante + berechnete Werte
âœ“ Variant           - Bauwerksvariante mit Liste von MaterialRows
âœ“ Project           - Hauptcontainer mit max. 5 Varianten

CORE (2 Dateien)
----------------
âœ“ AppOrchestrator   - Zentrale Steuerung, koordiniert alle Services
âœ“ PersistenceService - Speichern/Laden JSON, Snapshots, Auto-Restore

SERVICES (1 Datei)
------------------
âœ“ CalculationService - COâ‚‚-Berechnungen nach DIN EN 15804

DATA (1 Datei)
--------------
âœ“ MaterialRepository - CSV-Laden mit Auto-Erkennung, Suche
                     - Favoriten-Persistierung (config.json)
                     - Custom Materials (eigene EPDs)
                     - EN 15804+A2 Filter

UI (7 Dateien)
--------------
âœ“ WelcomeWindow     - Startbildschirm mit zuletzt geÃ¶ffneten Projekten
âœ“ MainWindow        - Hauptfenster mit Tab-Struktur + 6 Systemgrenzen
âœ“ ProjectTreeView   - Dateibaum (links)
âœ“ DashboardView     - Vergleichsdiagramm mit konsistenten Farben
                      - VollstÃ¤ndige Legende (zentriert)
                      - Material-Ãœbersichtstabellen (2x2 Grid)
âœ“ VariantView       - Einzelvariante mit einheitlichem Diagramm
                      - Inline-Mengenbearbeitung (Doppelklick)
âœ“ MaterialPickerDialog - Material-Suche mit Filtern
                         - Favoriten-Stern (â˜…) zum Toggle
                         - EN 15804+A2 Filter (Standard aktiv)
                         - Custom Materials LÃ¶schung (Rechtsklick)

UTILS (2 Dateien)
-----------------
âœ“ create_demo_project() - Erstellt Demo mit 3 Varianten beim ersten Start
âœ“ setup_logging()       - Konfiguriert Logging in Datei + Console


FUNKTIONSÃœBERSICHT
==================

KERNFUNKTIONEN (ALLE IMPLEMENTIERT)
------------------------------------
âœ… Modulare Architektur mit strikter Schichtentrennnung
âœ… CSV-Auto-Erkennung (Trennzeichen + Dezimalformat)
âœ… Material-Datenbank mit Suche, Filter, PERSISTENTEN FAVORITEN
âœ… 5 Bauwerksvarianten parallel bearbeitbar
âœ… 6 Systemgrenzen (Standard + bio-korrigiert):
   - A1-A3 / A1-A3 (bio)
   - A1-A3+C3+C4 / A1-A3+C3+C4 (bio)
   - A1-A3+C3+C4+D / A1-A3+C3+C4+D (bio)
âœ… Dashboard mit Variantenvergleich:
   - Gestapeltes Balkendiagramm mit konsistenten Farben
   - VollstÃ¤ndige Legende (horizontal + vertikal zentriert)
   - Material-Ãœbersichtstabellen (2x2 Grid, dynamische HÃ¶he)
   - Vertikales Scrolling
âœ… Variantenansichten:
   - Einheitliche Diagramme (8x3.5 Zoll, festes Layout)
   - Inline-Mengenbearbeitung (Doppelklick)
   - Zeilen verschieben (â†‘ â†“)
âœ… Material-Picker-Dialog:
   - Live-Suche mit Favoriten-Markierung (â˜…)
   - EN 15804+A2 Filter (Standard aktiviert)
   - Datensatztyp-Filter
âœ… Custom Materials - Eigene EPDs hinzufÃ¼gen/lÃ¶schen
âœ… Favoriten-Persistierung in config.json
âœ… Autosave mit Debounce (800ms)
âœ… Snapshots (max. 20 pro Projekt, Auto-Restore)
âœ… Persistenz im Benutzerverzeichnis
âœ… Demo-Projekt beim ersten Start (Holzbau, Stahlbau, Stahlbetonbau)
âœ… Dark/Light-Mode Toggle mit optimierten Kontrasten
âœ… Logging in Datei (app.log)
âœ… VollstÃ¤ndige Dokumentation (README, ARCHITEKTUR, SCHNELLSTART, CSV_FORMAT)

NORMATIVE GRUNDLAGEN
---------------------
âœ… DIN EN 15804:2012 + A2:2019 + AC:2021
âœ… DIN EN 15978-1 (Entwurf 2024-05)
âœ… ABC-Entwurfstafeln "Ã–kobilanzierung in der Tragwerksplanung" (2024-02)
âœ… Ã–KOBAUDAT-kompatible CSV-Struktur

TODO FÃœR ZUKÃœNFTIGE VERSIONEN
------------------------------
â³ PDF-Export fÃ¼r Reports
â³ Erweiterte Umweltindikatoren (PENRT, AP, EP, ODP, POCP)
â³ Dateibaum mit Ordner-/Unterordner-Struktur
â³ Einheiten-Konvertierung
â³ Erweiterte Diagrammoptionen (Export als PNG, Legenden-Anpassung)


STARTEN DES PROGRAMMS
======================

1. Dependencies installieren:
   $ pip install -r requirements.txt

2. Programm starten:
   $ python app.py

3. Beim ersten Start:
   - Welcome-Screen Ã¶ffnet sich
   - Demo-Projekt wird automatisch erstellt
   - Klicken Sie auf das Demo-Projekt

4. CSV laden:
   - Klicken Sie "CSV laden" in der MenÃ¼leiste
   - WÃ¤hlen Sie Ihre Ã–KOBAUDAT-CSV
   - Auto-Erkennung erfolgt automatisch


ARCHITEKTUR-INFORMATIONSFLUSS
==============================

USER-INTERAKTION
    â†“
UI-LAYER (CustomTkinter)
    â†“ [Event-Callbacks]
ORCHESTRATOR (Zentrale Steuerung)
    â†“ [Koordination]
    â”œâ†’ MaterialRepository (CSV)
    â”œâ†’ CalculationService (Berechnungen)
    â””â†’ PersistenceService (Speichern)
    â†“
MODELS (Datenstrukturen)
    â†“
JSON-DATEIEN (Benutzerverzeichnis)


EVENTS (StateStore)
===================
â€¢ project_loaded        - Projekt wurde geladen
â€¢ csv_loaded           - CSV wurde geladen
â€¢ row_updated          - Materialzeile aktualisiert
â€¢ row_deleted          - Materialzeile gelÃ¶scht
â€¢ row_moved            - Materialzeile verschoben
â€¢ boundary_changed     - Systemgrenze geÃ¤ndert
â€¢ visibility_changed   - Varianten-Sichtbarkeit geÃ¤ndert
â€¢ rebuild_charts       - Diagramme neu zeichnen
â€¢ autosave_success     - Autosave erfolgreich
â€¢ autosave_failed      - Autosave fehlgeschlagen


DATEI-STATISTIK
===============
Gesamt: 21 Python-Dateien
- Models: 4 Dateien
- Core: 2 Dateien
- Services: 1 Datei
- Data: 1 Datei
- UI: 7 Dateien
- Utils: 2 Dateien
- App: 1 Datei
- Docs: 3 Markdown-Dateien
- Config: 2 Dateien (requirements.txt, .gitignore)

GeschÃ¤tzte Zeilen Code: ~4000 LOC (ohne Kommentare)


QUALITÃ„TSMERKMALE
=================
âœ“ Type Hints Ã¼berall
âœ“ Docstrings fÃ¼r alle Ã¶ffentlichen Methoden
âœ“ Logging statt print()
âœ“ Exception-Handling mit Logging
âœ“ Event-basierte Architektur
âœ“ Debounced Autosave
âœ“ Auto-Restore aus Snapshots
âœ“ Strikte Schichtentrennung
âœ“ Kein Spaghetti-Code
âœ“ Erweiterbar fÃ¼r neue Indikatoren


UNTERSTÃœTZTE PLATTFORMEN
=========================
âœ“ macOS (getestet)
âœ“ Windows (kompatibel)
âœ“ Linux (kompatibel)

Python-Version: >= 3.9


LIZENZ
======
Bildungs- und Forschungszwecke


VERSION
=======
1.1.0 (November 2024)

NEU IN 1.1.0:
- â˜… Favoriten-Persistierung (dauerhaft gespeichert)
- ğŸ­ Custom Materials (eigene EPDs)
- âœ”ï¸ EN 15804+A2 Filter (Standard-aktiviert)
- ğŸ¨ Konsistente Dashboard-Farben
- ğŸ“Š 6 Systemgrenzen (inkl. bio-korrigiert)
- ğŸ“Š VollstÃ¤ndige Legenden (zentriert)
- ğŸ“Š Material-Ãœbersichtstabellen (2x2 Grid)
- ğŸ“Š Einheitliche DiagrammgrÃ¶ÃŸen in allen Tabs

================================================================================
PROJEKT VOLLSTÃ„NDIG IMPLEMENTIERT - BEREIT ZUM TESTEN!
================================================================================

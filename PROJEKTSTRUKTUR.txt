COâ‚‚-BILANZIERER - VOLLSTÃ„NDIGE PROJEKTSTRUKTUR
==================================================

ROOT-VERZEICHNIS
================
â”œâ”€â”€ app.py                          # Einstiegspunkt - Startet Anwendung
â”œâ”€â”€ requirements.txt                # Python-Dependencies (CustomTkinter, Matplotlib)
â”œâ”€â”€ .gitignore                      # Git-Ignore-Regeln
â”‚
â”œâ”€â”€ README.md                       # Hauptdokumentation mit Features
â”œâ”€â”€ ARCHITEKTUR.md                  # Technische ArchitekturÃ¼bersicht
â”œâ”€â”€ SCHNELLSTART.md                 # Installationsanleitung (5 Minuten)
â”‚
MODELS - DATENMODELLE
=====================
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py                 # Package-Definition
â”‚   â”œâ”€â”€ material.py                 # Material (CSV-Zeile/EPD)
â”‚   â”œâ”€â”€ variant.py                  # Variant + MaterialRow
â”‚   â””â”€â”€ project.py                  # Project (Hauptcontainer)
â”‚
CORE - GESCHÃ„FTSLOGIK
=====================
â””â”€â”€ core/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ orchestrator.py             # AppOrchestrator (zentrale Steuerung)
    â”œâ”€â”€ persistence.py              # PersistenceService (Speichern/Laden)
    â””â”€â”€ undo_redo_manager.py        # UndoRedoManager (Ã„nderungsverwaltung)
â”‚
SERVICES - BUSINESS-LOGIK
==========================
â”œâ”€â”€ services/
â”‚   â””â”€â”€ calculation_service.py      # CalculationService (COâ‚‚-Berechnungen)
â”‚
DATA - DATEN-LAYER
==================
â”œâ”€â”€ data/
â”‚   â””â”€â”€ material_repository.py      # MaterialRepository (CSV-Verwaltung)
â”‚
UI - BENUTZEROBERFLÃ„CHE
========================
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ welcome_window.py           # WelcomeWindow (Startbildschirm)
â”‚   â”œâ”€â”€ main_window.py              # MainWindow (Hauptfenster)
â”‚   â”œâ”€â”€ project_tree.py             # ProjectTreeView (Dateibaum links)
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ dashboard_view.py       # DashboardView (Vergleichsdiagramm, Tab 1)
â”‚   â”‚
â”‚   â”œâ”€â”€ variants/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ variant_view.py         # VariantView (Einzelvariante, Tabs 2-6)
â”‚   â”‚
â”‚   â””â”€â”€ dialogs/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ material_picker.py      # MaterialPickerDialog (Materialauswahl)
â”‚       â””â”€â”€ project_picker_dialog.py # ProjectPickerDialog (Projektwechsel)
â”‚
UTILS - HILFSFUNKTIONEN
========================
â””â”€â”€ utils/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ demo_project.py             # create_demo_project() - Demo-Generator
    â””â”€â”€ logging_config.py           # setup_logging() - Logging-Konfiguration


LAUFZEITVERZEICHNIS (wird automatisch erstellt)
================================================
~/.abc_co2_bilanzierer/             # Benutzerverzeichnis
â”œâ”€â”€ config.json                     # Konfiguration + PROJEKTVERWALTUNG
â”‚                                   # - last_project_id
â”‚                                   # - global_csv_path
â”‚                                   # - favorites (IDs)
â”‚                                   # - favorite_names
â”‚                                   # - theme, window_size
â”‚                                   # - recent_projects (UUID-Liste)
â”‚                                   # - external_project_paths (UUIDâ†’Pfad)
â”‚                                   # - last_open_directory (fÃ¼r Dialoge)
â”œâ”€â”€ projects/                       # Interne Projekte (optional)
â”‚   â””â”€â”€ <uuid>.json                # Projekt-Dateien (intern)
â”œâ”€â”€ snapshots/
â”‚   â””â”€â”€ <project-id>/
â”‚       â””â”€â”€ autosave_*.json        # Autosave-Snapshots (max. 20)
â””â”€â”€ logs/
    â””â”€â”€ app.log                    # Anwendungs-Log

EXTERNE PROJEKTE (beliebige Speicherorte)
==========================================
Projekte kÃ¶nnen Ã¼berall gespeichert werden:
~/Desktop/MeinProjekt.json
~/iCloud/Projekte/Bauwerk_A.json
/Volumes/USB/projekt_xyz.json

â†’ UUID-basierte Identifikation (unabhÃ¤ngig vom Dateinamen)
â†’ Automatische Pfad-Aktualisierung bei Umbenennung/Verschiebung
â†’ Tracking Ã¼ber external_project_paths in config.json


KOMPONENTEN-ÃœBERSICHT
=====================

MODELS (4 Dateien)
------------------
âœ“ Material          - ReprÃ¤sentiert CSV-Zeile/EPD mit GWP-Werten
âœ“ MaterialRow       - Material + Menge in Variante + berechnete Werte
âœ“ Variant           - Bauwerksvariante mit Liste von MaterialRows
âœ“ Project           - Hauptcontainer mit max. 5 Varianten

CORE (3 Dateien)
-----------------
âœ“ AppOrchestrator   - Zentrale Steuerung, Event-System, Autosave
âœ“ PersistenceService - Speichern/Laden, Snapshots, Config
âœ“ UndoRedoManager   - Stack-basierte History (max. 10 Schritte), Deep Copy

SERVICES (1 Datei)
------------------
âœ“ CalculationService - COâ‚‚-Berechnungen nach DIN EN 15804

DATA (1 Datei)
--------------
âœ“ MaterialRepository - CSV-Laden mit Auto-Erkennung, Suche
                     - Favoriten-Persistierung (config.json)
                     - Custom Materials (eigene EPDs)
                     - EN 15804+A2 Filter

UI (8 Dateien)
--------------
âœ“ WelcomeWindow     - Startbildschirm mit zuletzt geÃ¶ffneten Projekten
                      - Zeigt interne UND externe Projekte
                      - Intelligentes Startverzeichnis
âœ“ MainWindow        - Hauptfenster mit Tab-Struktur + 6 Systemgrenzen
                      - Projekt Ã¶ffnen mit ProjectPickerDialog
                      - Undo/Redo-Buttons (zentriert) + Keyboard-Shortcuts
âœ“ ProjectTreeView   - Dateibaum (links)
âœ“ DashboardView     - Vergleichsdiagramm mit konsistenten Farben
                      - VollstÃ¤ndige Legende (zentriert)
                      - Material-Ãœbersichtstabellen (2x2 Grid)
âœ“ VariantView       - Einzelvariante mit einheitlichem Diagramm
                      - Inline-Mengenbearbeitung (Doppelklick)
                      - Intelligente Summen-Anzeige (A, A+C, A+C+D)
                      - Auto-Umschaltung Standard/Bio
âœ“ MaterialPickerDialog - Material-Suche mit Filtern
                         - Favoriten-Stern (â˜…) zum Toggle
                         - EN 15804+A2 Filter (Standard aktiv)
                         - Custom Materials LÃ¶schung (Rechtsklick)
âœ“ ProjectPickerDialog  - Projektwechsel im laufenden Programm
                         - Recent Projects Liste
                         - Durchsuchen mit intelligentem Startverzeichnis

UTILS (2 Dateien)
-----------------
âœ“ create_demo_project() - Erstellt Demo mit 3 Varianten beim ersten Start
âœ“ setup_logging()       - Konfiguriert Logging in Datei + Console


FUNKTIONSÃœBERSICHT
==================

KERNFUNKTIONEN (ALLE IMPLEMENTIERT)
------------------------------------
âœ… Modulare Architektur mit strikter Schichtentrennnung
âœ… CSV-Auto-Erkennung (Trennzeichen + Dezimalformat)
âœ… Material-Datenbank mit Suche, Filter, PERSISTENTEN FAVORITEN
âœ… 5 Bauwerksvarianten parallel bearbeitbar
âœ… 6 Systemgrenzen (Standard + bio-korrigiert):
   - A1-A3 / A1-A3 (bio)
   - A1-A3+C3+C4 / A1-A3+C3+C4 (bio)
   - A1-A3+C3+C4+D / A1-A3+C3+C4+D (bio)
âœ… Dashboard mit Variantenvergleich:
   - Gestapeltes Balkendiagramm mit konsistenten Farben
   - VollstÃ¤ndige Legende (horizontal + vertikal zentriert)
   - Material-Ãœbersichtstabellen (2x2 Grid, dynamische HÃ¶he)
   - Vertikales Scrolling
âœ… Variantenansichten:
   - Einheitliche Diagramme (8x3.5 Zoll, festes Layout)
   - Inline-Mengenbearbeitung (Doppelklick)
   - Zeilen verschieben (â†‘ â†“)
   - Intelligente Summen: A, A+C, A+C+D mit Auto-Umschaltung Standard/Bio
âœ… Material-Picker-Dialog:
   - Live-Suche mit Favoriten-Markierung (â˜…)
   - EN 15804+A2 Filter (Standard aktiviert)
   - Datensatztyp-Filter
âœ… Custom Materials - Eigene EPDs hinzufÃ¼gen/lÃ¶schen
âœ… Favoriten-Persistierung in config.json
âœ… **FLEXIBLE PROJEKTVERWALTUNG:**
   - UUID-basierte Projekt-Identifikation
   - Speichern an beliebigen Orten (Desktop, Cloud, USB)
   - "Speichern unter" erstellt neues unabhÃ¤ngiges Projekt
   - Automatische Pfad-Aktualisierung bei Umbenennung/Verschiebung
   - Recent Projects Liste (max. 10, automatisch sortiert)
   - ProjectPickerDialog fÃ¼r schnellen Projektwechsel
   - Intelligentes Startverzeichnis (merkt sich letzten Ordner)
âœ… **UNDO/REDO-SYSTEM:**
   - Stack-basierte History (max. 10 Schritte)
   - Deep Copy von Project-States fÃ¼r sichere Isolation
   - Keyboard-Shortcuts: Cmd+Z / Ctrl+Z (Undo), Cmd+Shift+Z / Ctrl+Y (Redo)
   - Zentrierte Buttons in MenÃ¼leiste
   - Automatisches Redo-Clearing bei neuen Ã„nderungen
   - Integration mit allen State-Ã¤ndernden Operationen
âœ… Autosave mit Debounce (800ms)
âœ… Snapshots (max. 20 pro Projekt, Auto-Restore)
âœ… Persistenz im Benutzerverzeichnis
âœ… Demo-Projekt beim ersten Start (Holzbau, Stahlbau, Stahlbetonbau)
âœ… Dark/Light-Mode Toggle mit optimierten Kontrasten
âœ… Logging in Datei (app.log)
âœ… VollstÃ¤ndige Dokumentation (README, ARCHITEKTUR, SCHNELLSTART, CSV_FORMAT)

NORMATIVE GRUNDLAGEN
---------------------
âœ… DIN EN 15804:2012 + A2:2019 + AC:2021
âœ… DIN EN 15978-1 (Entwurf 2024-05)
âœ… ABC-Entwurfstafeln "Ã–kobilanzierung in der Tragwerksplanung" (2024-02)
âœ… Ã–KOBAUDAT-kompatible CSV-Struktur

TODO FÃœR ZUKÃœNFTIGE VERSIONEN
------------------------------
â³ PDF-Export fÃ¼r Reports
â³ Erweiterte Umweltindikatoren (PENRT, AP, EP, ODP, POCP)
â³ Dateibaum mit Ordner-/Unterordner-Struktur
â³ Einheiten-Konvertierung
â³ Erweiterte Diagrammoptionen (Export als PNG, Legenden-Anpassung)


STARTEN DES PROGRAMMS
======================

1. Dependencies installieren:
   $ pip install -r requirements.txt

2. Programm starten:
   $ python app.py

3. Beim ersten Start:
   - Welcome-Screen Ã¶ffnet sich
   - Demo-Projekt wird automatisch erstellt
   - Klicken Sie auf das Demo-Projekt

4. CSV laden:
   - Klicken Sie "CSV laden" in der MenÃ¼leiste
   - WÃ¤hlen Sie Ihre Ã–KOBAUDAT-CSV
   - Auto-Erkennung erfolgt automatisch


ARCHITEKTUR-INFORMATIONSFLUSS
==============================

USER-INTERAKTION
    â†“
UI-LAYER (CustomTkinter)
    â†“ [Event-Callbacks]
ORCHESTRATOR (Zentrale Steuerung)
    â†“ [Koordination]
    â”œâ†’ MaterialRepository (CSV)
    â”œâ†’ CalculationService (Berechnungen)
    â””â†’ PersistenceService (Speichern)
    â†“
MODELS (Datenstrukturen)
    â†“
JSON-DATEIEN (Benutzerverzeichnis)


EVENTS (StateStore)
===================
â€¢ project_loaded        - Projekt wurde geladen
â€¢ csv_loaded           - CSV wurde geladen
â€¢ row_updated          - Materialzeile aktualisiert
â€¢ row_deleted          - Materialzeile gelÃ¶scht
â€¢ row_moved            - Materialzeile verschoben
â€¢ boundary_changed     - Systemgrenze geÃ¤ndert
â€¢ visibility_changed   - Varianten-Sichtbarkeit geÃ¤ndert
â€¢ rebuild_charts       - Diagramme neu zeichnen
â€¢ autosave_success     - Autosave erfolgreich
â€¢ autosave_failed      - Autosave fehlgeschlagen


DATEI-STATISTIK
===============
Gesamt: 23 Python-Dateien
- Models: 4 Dateien
- Core: 3 Dateien (inkl. UndoRedoManager)
- Services: 1 Datei
- Data: 1 Datei
- UI: 8 Dateien (inkl. ProjectPickerDialog)
- Utils: 2 Dateien
- App: 1 Datei
- Docs: 3 Markdown-Dateien
- Config: 2 Dateien (requirements.txt, .gitignore)

GeschÃ¤tzte Zeilen Code: ~4400 LOC (ohne Kommentare)


QUALITÃ„TSMERKMALE
=================
âœ“ Type Hints Ã¼berall
âœ“ Docstrings fÃ¼r alle Ã¶ffentlichen Methoden
âœ“ Logging statt print()
âœ“ Exception-Handling mit Logging
âœ“ Event-basierte Architektur
âœ“ Debounced Autosave
âœ“ Auto-Restore aus Snapshots
âœ“ Strikte Schichtentrennung
âœ“ Kein Spaghetti-Code
âœ“ Erweiterbar fÃ¼r neue Indikatoren


UNTERSTÃœTZTE PLATTFORMEN
=========================
âœ“ macOS (getestet)
âœ“ Windows (kompatibel)
âœ“ Linux (kompatibel)

Python-Version: >= 3.9


LIZENZ
======
Bildungs- und Forschungszwecke


VERSION
=======
2.0 (November 2024)
App-Name: COâ‚‚-Bilanzierer

NEU IN 2.0:
- â„¹ï¸ **INFO-DIALOG:**
  - Programminformationen mit normativen Grundlagen
  - DIN EN 15804, ISO 21931-1, ISO 14040, ISO 14044
  - Feature-Ãœbersicht
  - PDF-Opener fÃ¼r Entwurfstafeln (in .app Bundle eingebunden)
- ğŸ¨ **FARB-KONSISTENZ:**
  - Materialfarben basieren auf ALLEN Materialien im Projekt
  - Farben bleiben konstant beim An-/AbwÃ¤hlen von Dashboard-Varianten
  - Konsistente Farben Ã¼ber alle Ansichten
- âœï¸ **UMBENENNUNGS-FUNKTIONEN:**
  - Projektnamen Ã¤ndern mit Undo-Support
  - Variantennamen Ã¤ndern mit Undo-Support
  - Label "Projektname:" vor Eingabefeld

NEU IN 1.3.0:
- ğŸ”„ **UNDO/REDO-SYSTEM:**
  - Stack-basierte History (max. 10 Schritte)
  - Deep Copy von Project-States
  - Keyboard-Shortcuts (Cmd+Z, Cmd+Shift+Z)
  - Zentrierte Buttons in MenÃ¼leiste
  - Automatisches Redo-Clearing bei neuen Ã„nderungen
  - Loop-Prevention und sichere State-Verwaltung
  - Separate Undo-Schritte fÃ¼r Zeile + Material

NEU IN 1.2.0:
- ğŸ“ **FLEXIBLE PROJEKTVERWALTUNG:**
  - UUID-basierte Identifikation (unabhÃ¤ngig vom Dateinamen)
  - Speichern an beliebigen Orten (Desktop, Cloud, USB)
  - "Speichern unter" erstellt neues unabhÃ¤ngiges Projekt
  - Automatische Pfad-Aktualisierung bei Umbenennung/Verschiebung
  - Recent Projects Liste mit Auto-SÃ¤uberung
  - ProjectPickerDialog fÃ¼r schnellen Projektwechsel
  - Intelligentes Startverzeichnis
- ğŸ§® **INTELLIGENTE SUMMEN-ANZEIGE:**
  - Zeigt A, A+C, A+C+D (wenn D-Werte vorhanden)
  - Automatische Umschaltung Standard/Bio basierend auf Systemgrenze
  - Bio-Werte in grÃ¼n mit "(bio)" Suffix
  - Keine doppelte Anzeige mehr

NEU IN 1.1.0:
- â˜… Favoriten-Persistierung (dauerhaft gespeichert)
- ğŸ­ Custom Materials (eigene EPDs)
- âœ”ï¸ EN 15804+A2 Filter (Standard-aktiviert)
- ğŸ¨ Konsistente Dashboard-Farben
- ğŸ“Š 6 Systemgrenzen (inkl. bio-korrigiert)
- ğŸ“Š VollstÃ¤ndige Legenden (zentriert)
- ğŸ“Š Material-Ãœbersichtstabellen (2x2 Grid)
- ğŸ“Š Einheitliche DiagrammgrÃ¶ÃŸen in allen Tabs

================================================================================
PROJEKT VOLLSTÃ„NDIG IMPLEMENTIERT - BEREIT ZUM TESTEN!
================================================================================
